wordpress判断首页函数失效

前几天发现了个问题，就是本来设置只在首页显示的友情链接在全站显示了。检查了一下代码，并没有发现错误，很是奇怪。一时之间也没弄明白这是个什么问题，就放下了。昨天上网的时候看到有人说query_posts函数之类的如果使用完之后没有用wp_reset_query()函数重置会导致某些判断函数失效，我一想这不就是我的问题嘛！于是，动手试了试。

有可能出问题的要么是single.php要么是sidebar.php。single.php有相关日志的查询用到了query_posts函数，但是检查了下，没有问题。那么一定是sidebar.php了。大家可以看看我的侧边栏，有最新文章，热点文章，随机文章，最新评论等等，这些都是会用query_posts 函数的。用ctrl+f搜了下，果然没有，在最后面添了wp_reset_query()，刷新后问题解决了。